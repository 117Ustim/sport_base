# üèóÔ∏è –≠–¢–ê–ü 1: –ê–Ω–∞–ª–∏–∑ –∞—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä—ã –∏ —Å—Ç—Ä—É–∫—Ç—É—Ä—ã –ø—Ä–æ–µ–∫—Ç–æ–≤

**–î–∞—Ç–∞:** 05.02.2026  
**–ü—Ä–æ–µ–∫—Ç—ã:** sport_base (React Web) + gym-calendar (React Native)  
**–°—Ç–∞—Ç—É—Å:** ‚úÖ –ó–∞–≤–µ—Ä—à–µ–Ω

---

## üìä –û–±—â–∞—è –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏—è –æ –ø—Ä–æ–µ–∫—Ç–∞—Ö

### **sport_base** (–í–µ–±-–ø—Ä–∏–ª–æ–∂–µ–Ω–∏–µ –¥–ª—è –∞–¥–º–∏–Ω–æ–≤)
- **–¢–µ—Ö–Ω–æ–ª–æ–≥–∏–∏:** React 18.2, Firebase 12.8, Material-UI, Redux
- **–ù–∞–∑–Ω–∞—á–µ–Ω–∏–µ:** –ê–¥–º–∏–Ω–∏—Å—Ç—Ä–∞—Ç–∏–≤–Ω–∞—è –ø–∞–Ω–µ–ª—å –¥–ª—è —É–ø—Ä–∞–≤–ª–µ–Ω–∏—è –∑–∞–ª–∞–º–∏, –∫–ª–∏–µ–Ω—Ç–∞–º–∏, —Ç—Ä–µ–Ω–∏—Ä–æ–≤–∫–∞–º–∏
- **–ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–∏:** –¢—Ä–µ–Ω–µ—Ä—ã/–ê–¥–º–∏–Ω–∏—Å—Ç—Ä–∞—Ç–æ—Ä—ã

### **gym-calendar** (–ú–æ–±–∏–ª—å–Ω–æ–µ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–µ)
- **–¢–µ—Ö–Ω–æ–ª–æ–≥–∏–∏:** React Native (Expo 54), Firebase 12.3, TypeScript
- **–ù–∞–∑–Ω–∞—á–µ–Ω–∏–µ:** –ú–æ–±–∏–ª—å–Ω–æ–µ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–µ –¥–ª—è –∫–ª–∏–µ–Ω—Ç–æ–≤ –∏ —Ç—Ä–µ–Ω–µ—Ä–æ–≤
- **–ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–∏:** –ö–ª–∏–µ–Ω—Ç—ã + –¢—Ä–µ–Ω–µ—Ä—ã

---

## üóÑÔ∏è –°—Ç—Ä—É–∫—Ç—É—Ä–∞ Firebase Firestore

### **–û—Å–Ω–æ–≤–Ω—ã–µ –∫–æ–ª–ª–µ–∫—Ü–∏–∏:**

```
firestore/
‚îú‚îÄ‚îÄ users/                          # –ê–∫–∫–∞—É–Ω—Ç—ã –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–π (Auth)
‚îÇ   ‚îî‚îÄ‚îÄ {userId}
‚îÇ       ‚îú‚îÄ‚îÄ email: string
‚îÇ       ‚îú‚îÄ‚îÄ role: 'admin' | 'client'
‚îÇ       ‚îú‚îÄ‚îÄ clientId: string (–¥–ª—è –∫–ª–∏–µ–Ω—Ç–æ–≤)
‚îÇ       ‚îî‚îÄ‚îÄ firstLogin: boolean
‚îÇ
‚îú‚îÄ‚îÄ clients/                        # –ö–ª–∏–µ–Ω—Ç—ã (–æ—Å–Ω–æ–≤–Ω–∞—è –∫–æ–ª–ª–µ–∫—Ü–∏—è)
‚îÇ   ‚îî‚îÄ‚îÄ {clientId}
‚îÇ       ‚îú‚îÄ‚îÄ profile/                # –ü—Ä–æ—Ñ–∏–ª—å –∫–ª–∏–µ–Ω—Ç–∞
‚îÇ       ‚îÇ   ‚îú‚îÄ‚îÄ name, surname, phone, email
‚îÇ       ‚îÇ   ‚îú‚îÄ‚îÄ gymName, gymId
‚îÇ       ‚îÇ   ‚îú‚îÄ‚îÄ capacity, attented, debt
‚îÇ       ‚îÇ   ‚îú‚îÄ‚îÄ price, sex, address
‚îÇ       ‚îÇ   ‚îî‚îÄ‚îÄ userId (—Å–≤—è–∑—å —Å users)
‚îÇ       ‚îÇ
‚îÇ       ‚îú‚îÄ‚îÄ attendance/             # SUBCOLLECTION: –ü–æ—Å–µ—â–µ–Ω–∏—è
‚îÇ       ‚îÇ   ‚îî‚îÄ‚îÄ {attendanceId}
‚îÇ       ‚îÇ       ‚îú‚îÄ‚îÄ date: string (YYYY-MM-DD)
‚îÇ       ‚îÇ       ‚îî‚îÄ‚îÄ time: string (HH:mm)
‚îÇ       ‚îÇ
‚îÇ       ‚îî‚îÄ‚îÄ selfPurchases/          # SUBCOLLECTION: –ü–æ–∫—É–ø–∫–∏ (–¥–ª—è –≥—Ä—É–ø–ø–æ–≤—ã—Ö)
‚îÇ           ‚îî‚îÄ‚îÄ {purchaseId}
‚îÇ               ‚îú‚îÄ‚îÄ date: string
‚îÇ               ‚îú‚îÄ‚îÄ trainings: number
‚îÇ               ‚îî‚îÄ‚îÄ amount: number
‚îÇ
‚îú‚îÄ‚îÄ gyms/                           # –ó–∞–ª—ã
‚îÇ   ‚îî‚îÄ‚îÄ {gymId}
‚îÇ       ‚îú‚îÄ‚îÄ name: string
‚îÇ       ‚îî‚îÄ‚îÄ address: string
‚îÇ
‚îú‚îÄ‚îÄ workouts/                       # –®–∞–±–ª–æ–Ω—ã —Ç—Ä–µ–Ω–∏—Ä–æ–≤–æ–∫
‚îÇ   ‚îî‚îÄ‚îÄ {workoutId}
‚îÇ       ‚îú‚îÄ‚îÄ name: string
‚îÇ       ‚îú‚îÄ‚îÄ clientId: string
‚îÇ       ‚îú‚îÄ‚îÄ weeks: Array<Week>      # –ú–∞—Å—Å–∏–≤ –Ω–µ–¥–µ–ª—å
‚îÇ       ‚îÇ   ‚îî‚îÄ‚îÄ Week:
‚îÇ       ‚îÇ       ‚îú‚îÄ‚îÄ weekNumber: number
‚îÇ       ‚îÇ       ‚îú‚îÄ‚îÄ dates: { [dayKey]: string }
‚îÇ       ‚îÇ       ‚îî‚îÄ‚îÄ days: { [dayKey]: DayData }
‚îÇ       ‚îÇ           ‚îî‚îÄ‚îÄ DayData:
‚îÇ       ‚îÇ               ‚îî‚îÄ‚îÄ exercises: Array<Exercise>
‚îÇ       ‚îú‚îÄ‚îÄ createdAt: string
‚îÇ       ‚îî‚îÄ‚îÄ updatedAt: string
‚îÇ
‚îú‚îÄ‚îÄ assignedWorkouts/               # –ù–∞–∑–Ω–∞—á–µ–Ω–Ω—ã–µ —Ç—Ä–µ–Ω–∏—Ä–æ–≤–∫–∏ (–∞–∫—Ç–∏–≤–Ω—ã–µ)
‚îÇ   ‚îî‚îÄ‚îÄ {assignmentId}
‚îÇ       ‚îú‚îÄ‚îÄ clientId: string
‚îÇ       ‚îú‚îÄ‚îÄ userId: string
‚îÇ       ‚îú‚îÄ‚îÄ workoutId: string
‚îÇ       ‚îú‚îÄ‚îÄ workoutName: string
‚îÇ       ‚îú‚îÄ‚îÄ weekNumber: number
‚îÇ       ‚îú‚îÄ‚îÄ weekData: Week          # ‚ö†Ô∏è –î–£–ë–õ–ò–†–û–í–ê–ù–ò–ï –¥–∞–Ω–Ω—ã—Ö –∏–∑ workouts
‚îÇ       ‚îú‚îÄ‚îÄ assignedAt: string
‚îÇ       ‚îî‚îÄ‚îÄ status: 'new' | 'viewed' | 'completed'
‚îÇ
‚îú‚îÄ‚îÄ assignmentHistory/              # –ò—Å—Ç–æ—Ä–∏—è –Ω–∞–∑–Ω–∞—á–µ–Ω–∏–π (–∞—Ä—Ö–∏–≤)
‚îÇ   ‚îî‚îÄ‚îÄ {historyId}
‚îÇ       ‚îú‚îÄ‚îÄ ...–≤—Å–µ –ø–æ–ª—è –∏–∑ assignedWorkouts
‚îÇ       ‚îú‚îÄ‚îÄ originalAssignmentId: string
‚îÇ       ‚îú‚îÄ‚îÄ completedAt: string
‚îÇ       ‚îî‚îÄ‚îÄ status: 'replaced' | 'completed' | 'cancelled'
‚îÇ
‚îú‚îÄ‚îÄ clientBases/                    # –ë–∞–∑—ã —É–ø—Ä–∞–∂–Ω–µ–Ω–∏–π –∫–ª–∏–µ–Ω—Ç–æ–≤
‚îÇ   ‚îî‚îÄ‚îÄ {clientId}
‚îÇ       ‚îú‚îÄ‚îÄ exercises/              # SUBCOLLECTION: –£–ø—Ä–∞–∂–Ω–µ–Ω–∏—è
‚îÇ       ‚îÇ   ‚îî‚îÄ‚îÄ {exerciseId}
‚îÇ       ‚îÇ       ‚îú‚îÄ‚îÄ name: string
‚îÇ       ‚îÇ       ‚îú‚îÄ‚îÄ categoryId: string
‚îÇ       ‚îÇ       ‚îî‚îÄ‚îÄ data: { [columnId]: weight }
‚îÇ       ‚îÇ
‚îÇ       ‚îî‚îÄ‚îÄ metadata/               # SUBCOLLECTION: –ú–µ—Ç–∞–¥–∞–Ω–Ω—ã–µ
‚îÇ           ‚îî‚îÄ‚îÄ settings
‚îÇ               ‚îî‚îÄ‚îÄ columns: Array<Column>
‚îÇ
‚îú‚îÄ‚îÄ workoutHistory/                 # –ò—Å—Ç–æ—Ä–∏—è –≤—ã–ø–æ–ª–Ω–µ–Ω–∏—è —Ç—Ä–µ–Ω–∏—Ä–æ–≤–æ–∫
‚îÇ   ‚îî‚îÄ‚îÄ {historyId}
‚îÇ       ‚îú‚îÄ‚îÄ clientId: string
‚îÇ       ‚îú‚îÄ‚îÄ workoutId: string
‚îÇ       ‚îú‚îÄ‚îÄ date: string
‚îÇ       ‚îî‚îÄ‚îÄ exercises: Array<Exercise>
‚îÇ
‚îú‚îÄ‚îÄ statistics/                     # –°—Ç–∞—Ç–∏—Å—Ç–∏–∫–∞ –ø–æ –∑–∞–ª–∞–º
‚îÇ   ‚îî‚îÄ‚îÄ {gymId}/
‚îÇ       ‚îî‚îÄ‚îÄ daily/                  # SUBCOLLECTION: –î–Ω–µ–≤–Ω–∞—è —Å—Ç–∞—Ç–∏—Å—Ç–∏–∫–∞
‚îÇ           ‚îî‚îÄ‚îÄ {date}
‚îÇ               ‚îú‚îÄ‚îÄ trainedTotal: number
‚îÇ               ‚îú‚îÄ‚îÄ trainedTotalCost: number
‚îÇ               ‚îú‚îÄ‚îÄ trainedPersonal: number
‚îÇ               ‚îî‚îÄ‚îÄ trainedOther: number
‚îÇ
‚îú‚îÄ‚îÄ conversations/                  # –ß–∞—Ç—ã (—Ç–æ–ª—å–∫–æ gym-calendar)
‚îÇ   ‚îî‚îÄ‚îÄ {conversationId}
‚îÇ       ‚îú‚îÄ‚îÄ type: 'global' | 'dm'
‚îÇ       ‚îú‚îÄ‚îÄ clientUid: string (–¥–ª—è dm)
‚îÇ       ‚îú‚îÄ‚îÄ lastMessage: string
‚îÇ       ‚îî‚îÄ‚îÄ messages/               # SUBCOLLECTION: –°–æ–æ–±—â–µ–Ω–∏—è
‚îÇ           ‚îî‚îÄ‚îÄ {messageId}
‚îÇ               ‚îú‚îÄ‚îÄ senderId: string
‚îÇ               ‚îú‚îÄ‚îÄ text: string
‚îÇ               ‚îî‚îÄ‚îÄ createdAt: timestamp
‚îÇ
‚îú‚îÄ‚îÄ categories/                     # –ö–∞—Ç–µ–≥–æ—Ä–∏–∏ —É–ø—Ä–∞–∂–Ω–µ–Ω–∏–π
‚îÇ   ‚îî‚îÄ‚îÄ {categoryId}
‚îÇ       ‚îî‚îÄ‚îÄ name: string
‚îÇ
‚îî‚îÄ‚îÄ exercises/                      # –ë–∏–±–ª–∏–æ—Ç–µ–∫–∞ —É–ø—Ä–∞–∂–Ω–µ–Ω–∏–π
    ‚îî‚îÄ‚îÄ {exerciseId}
        ‚îú‚îÄ‚îÄ name: string
        ‚îî‚îÄ‚îÄ categoryId: string
```

---

## üîÑ Data Flow (–î–≤–∏–∂–µ–Ω–∏–µ –¥–∞–Ω–Ω—ã—Ö)

### **1. –°–æ–∑–¥–∞–Ω–∏–µ –∫–ª–∏–µ–Ω—Ç–∞ (sport_base)**
```
Admin ‚Üí clientsService.create()
  ‚Üì
clients/{clientId}/profile
  ‚Üì
(–æ–ø—Ü–∏–æ–Ω–∞–ª—å–Ω–æ) UserService.createClientAccount()
  ‚Üì
users/{userId} + Firebase Auth
```

### **2. –°–æ–∑–¥–∞–Ω–∏–µ —Ç—Ä–µ–Ω–∏—Ä–æ–≤–∫–∏ (sport_base)**
```
Admin ‚Üí workoutsService.create()
  ‚Üì
workouts/{workoutId}
  ‚îú‚îÄ‚îÄ weeks: [Week1, Week2, ...]
  ‚îî‚îÄ‚îÄ clientId
```

### **3. –ù–∞–∑–Ω–∞—á–µ–Ω–∏–µ —Ç—Ä–µ–Ω–∏—Ä–æ–≤–∫–∏ –∫–ª–∏–µ–Ω—Ç—É (sport_base)**
```
Admin ‚Üí assignedWorkoutsService.assignWeekToClient()
  ‚Üì
1. –£–¥–∞–ª—è–µ—Ç —Å—Ç–∞—Ä—ã–µ assignedWorkouts
  ‚Üì
2. –ü–µ—Ä–µ–Ω–æ—Å–∏—Ç –∏—Ö –≤ assignmentHistory
  ‚Üì
3. –°–æ–∑–¥–∞–µ—Ç –Ω–æ–≤—ã–π assignedWorkouts/{assignmentId}
  ‚îú‚îÄ‚îÄ weekData: { ...–∫–æ–ø–∏—è –Ω–µ–¥–µ–ª–∏ –∏–∑ workouts }  ‚ö†Ô∏è –î–£–ë–õ–ò–†–û–í–ê–ù–ò–ï
  ‚îî‚îÄ‚îÄ userId, clientId, workoutId
```

### **4. –ö–ª–∏–µ–Ω—Ç –æ—Ç–∫—Ä—ã–≤–∞–µ—Ç —Ç—Ä–µ–Ω–∏—Ä–æ–≤–∫—É (gym-calendar)**
```
Client ‚Üí AssignedWorkoutsService.getAssignedWorkouts(userId)
  ‚Üì
assignedWorkouts (where userId == currentUser)
  ‚Üì
–ï—Å–ª–∏ weekData –µ—Å—Ç—å ‚Üí –ø–æ–∫–∞–∑—ã–≤–∞–µ–º
–ï—Å–ª–∏ weekData –Ω–µ—Ç ‚Üí –∑–∞–≥—Ä—É–∂–∞–µ–º –∏–∑ workouts/{workoutId}  ‚ö†Ô∏è JOIN
```

### **5. –ö–ª–∏–µ–Ω—Ç –æ–±–Ω–æ–≤–ª—è–µ—Ç –≤–µ—Å —É–ø—Ä–∞–∂–Ω–µ–Ω–∏—è (gym-calendar)**
```
Client ‚Üí AssignedWorkoutsService.updateExerciseData()
  ‚Üì
1. –û–±–Ω–æ–≤–ª—è–µ—Ç weekData –≤ assignedWorkouts  ‚ö†Ô∏è –î–£–ë–õ–ò–†–û–í–ê–ù–ò–ï
  ‚Üì
2. –°–æ—Ö—Ä–∞–Ω—è–µ—Ç –≤ ExerciseHistoryService
  ‚Üì
3. –û–±–Ω–æ–≤–ª—è–µ—Ç clientBases/{clientId}/exercises  ‚ö†Ô∏è –î–£–ë–õ–ò–†–û–í–ê–ù–ò–ï
```

### **6. –û—Ç–º–µ—Ç–∫–∞ –ø–æ—Å–µ—â–µ–Ω–∏—è (gym-calendar)**
```
Admin/Client ‚Üí StorageService.addClientAttendance()
  ‚Üì
1. clients/{clientId}/attendance/{attendanceId}  (subcollection)
  ‚Üì
2. –û–±–Ω–æ–≤–ª—è–µ—Ç clients/{clientId}/profile
  ‚îú‚îÄ‚îÄ attented++
  ‚îú‚îÄ‚îÄ capacity
  ‚îî‚îÄ‚îÄ debt
  ‚Üì
3. StatisticsService.saveDailyStats()
  ‚Üì
statistics/{gymId}/daily/{date}
```

---

## üéØ –ö–ª—é—á–µ–≤—ã–µ –∫–æ–º–ø–æ–Ω–µ–Ω—Ç—ã –∏ –∏—Ö —Ä–æ–ª—å

### **sport_base (Web)**

#### **–°–µ—Ä–≤–∏—Å—ã:**
- `clientsService.js` - CRUD –∫–ª–∏–µ–Ω—Ç–æ–≤, –∫–∞—Å–∫–∞–¥–Ω–æ–µ —É–¥–∞–ª–µ–Ω–∏–µ
- `workoutsService.js` - CRUD —Ç—Ä–µ–Ω–∏—Ä–æ–≤–æ–∫
- `assignedWorkoutsService.js` - –ù–∞–∑–Ω–∞—á–µ–Ω–∏–µ —Ç—Ä–µ–Ω–∏—Ä–æ–≤–æ–∫, –∏—Å—Ç–æ—Ä–∏—è
- `clientBaseService.js` - –£–ø—Ä–∞–≤–ª–µ–Ω–∏–µ –±–∞–∑–æ–π —É–ø—Ä–∞–∂–Ω–µ–Ω–∏–π –∫–ª–∏–µ–Ω—Ç–∞
- `statisticsService.js` - –°—Ç–∞—Ç–∏—Å—Ç–∏–∫–∞ –ø–æ –∑–∞–ª–∞–º
- `workoutHistoryService.js` - –ò—Å—Ç–æ—Ä–∏—è –≤—ã–ø–æ–ª–Ω–µ–Ω–∏—è

#### **–ö–æ–º–ø–æ–Ω–µ–Ω—Ç—ã:**
- `ClientBase/` - –£–ø—Ä–∞–≤–ª–µ–Ω–∏–µ –±–∞–∑–æ–π —É–ø—Ä–∞–∂–Ω–µ–Ω–∏–π
- `CreateWorkout/` - –°–æ–∑–¥–∞–Ω–∏–µ —Ç—Ä–µ–Ω–∏—Ä–æ–≤–æ–∫
- `PlanClient/` - –ù–∞–∑–Ω–∞—á–µ–Ω–∏–µ —Ç—Ä–µ–Ω–∏—Ä–æ–≤–æ–∫ –∫–ª–∏–µ–Ω—Ç–∞–º
- `Home/` - –ì–ª–∞–≤–Ω–∞—è —Å—Ç—Ä–∞–Ω–∏—Ü–∞ —Å–æ —Å–ø–∏—Å–∫–æ–º –∫–ª–∏–µ–Ω—Ç–æ–≤

### **gym-calendar (Mobile)**

#### **–°–µ—Ä–≤–∏—Å—ã:**
- `AssignedWorkoutsService.ts` - –ü–æ–ª—É—á–µ–Ω–∏–µ –∏ –æ–±–Ω–æ–≤–ª–µ–Ω–∏–µ –Ω–∞–∑–Ω–∞—á–µ–Ω–Ω—ã—Ö —Ç—Ä–µ–Ω–∏—Ä–æ–≤–æ–∫
- `ClientBaseService.ts` - –°–∏–Ω—Ö—Ä–æ–Ω–∏–∑–∞—Ü–∏—è –≤–µ—Å–æ–≤ —Å –±–∞–∑–æ–π
- `UserService.ts` - –£–ø—Ä–∞–≤–ª–µ–Ω–∏–µ –∞–∫–∫–∞—É–Ω—Ç–∞–º–∏
- `StatisticsService.ts` - –°—Ç–∞—Ç–∏—Å—Ç–∏–∫–∞
- `ChatService.ts` - –ß–∞—Ç—ã (real-time)

#### **–≠–∫—Ä–∞–Ω—ã:**
- `Calendar.tsx` - –ö–∞–ª–µ–Ω–¥–∞—Ä—å –ø–æ—Å–µ—â–µ–Ω–∏–π (–≥–ª–∞–≤–Ω—ã–π —ç–∫—Ä–∞–Ω)
- `workouts.tsx` - –ü—Ä–æ—Å–º–æ—Ç—Ä —Ç—Ä–µ–Ω–∏—Ä–æ–≤–æ–∫ –∫–ª–∏–µ–Ω—Ç–æ–º
- `PersonTab.tsx` - –°–ø–∏—Å–æ–∫ –∫–ª–∏–µ–Ω—Ç–æ–≤
- `chat/` - –ß–∞—Ç—ã

---

## üîç –û–±–Ω–∞—Ä—É–∂–µ–Ω–Ω—ã–µ –ø–∞—Ç—Ç–µ—Ä–Ω—ã –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—è

### **‚úÖ –•–æ—Ä–æ—à–∏–µ –ø—Ä–∞–∫—Ç–∏–∫–∏:**

1. **–†–∞–∑–¥–µ–ª–µ–Ω–∏–µ —Ä–æ–ª–µ–π:** –ß–µ—Ç–∫–æ–µ —Ä–∞–∑–¥–µ–ª–µ–Ω–∏–µ admin/client —á–µ—Ä–µ–∑ `users` –∫–æ–ª–ª–µ–∫—Ü–∏—é
2. **Subcollections:** –ò—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ subcollections –¥–ª—è attendance, exercises, messages
3. **–í–∞–ª–∏–¥–∞—Ü–∏—è:** –ï—Å—Ç—å `validators.js` –¥–ª—è –ø—Ä–æ–≤–µ—Ä–∫–∏ –¥–∞–Ω–Ω—ã—Ö –ø–µ—Ä–µ–¥ —Å–æ—Ö—Ä–∞–Ω–µ–Ω–∏–µ–º
4. **–ö–∞—Å–∫–∞–¥–Ω–æ–µ —É–¥–∞–ª–µ–Ω–∏–µ:** –ü—Ä–∏ —É–¥–∞–ª–µ–Ω–∏–∏ –∫–ª–∏–µ–Ω—Ç–∞ —É–¥–∞–ª—è—é—Ç—Å—è –≤—Å–µ —Å–≤—è–∑–∞–Ω–Ω—ã–µ –¥–∞–Ω–Ω—ã–µ
5. **TypeScript –≤ mobile:** gym-calendar –∏—Å–ø–æ–ª—å–∑—É–µ—Ç TypeScript –¥–ª—è —Ç–∏–ø–æ–±–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç–∏

### **‚ö†Ô∏è –ü—Ä–æ–±–ª–µ–º–Ω—ã–µ –ø–∞—Ç—Ç–µ—Ä–Ω—ã:**

1. **–î—É–±–ª–∏—Ä–æ–≤–∞–Ω–∏–µ –¥–∞–Ω–Ω—ã—Ö:**
   - `weekData` –∫–æ–ø–∏—Ä—É–µ—Ç—Å—è –∏–∑ `workouts` –≤ `assignedWorkouts`
   - –í–µ—Å —É–ø—Ä–∞–∂–Ω–µ–Ω–∏—è —Ö—Ä–∞–Ω–∏—Ç—Å—è –≤ 3 –º–µ—Å—Ç–∞—Ö: `assignedWorkouts`, `clientBases`, `workoutHistory`

2. **JOIN-–∑–∞–ø—Ä–æ—Å—ã –Ω–∞ –∫–ª–∏–µ–Ω—Ç–µ:**
   - –ü—Ä–∏ –∑–∞–≥—Ä—É–∑–∫–µ `assignedWorkouts` —á–∞—Å—Ç–æ –Ω—É–∂–Ω–æ –¥–µ–ª–∞—Ç—å –¥–æ–ø–æ–ª–Ω–∏—Ç–µ–ª—å–Ω—ã–π –∑–∞–ø—Ä–æ—Å –∫ `workouts`
   - –ü—Ä–∏ –æ—Ç–æ–±—Ä–∞–∂–µ–Ω–∏–∏ –∫–ª–∏–µ–Ω—Ç–æ–≤ –Ω—É–∂–Ω–æ –∑–∞–≥—Ä—É–∂–∞—Ç—å `assignedWorkouts` –¥–ª—è –∫–∞–∂–¥–æ–≥–æ

3. **Real-time –ø–æ–¥–ø–∏—Å–∫–∏:**
   - `ChatService` –∏—Å–ø–æ–ª—å–∑—É–µ—Ç `onSnapshot` –¥–ª—è —Å–æ–æ–±—â–µ–Ω–∏–π
   - –ù–µ—Ç —è–≤–Ω–æ–π –æ—á–∏—Å—Ç–∫–∏ –ø–æ–¥–ø–∏—Å–æ–∫ –≤ –Ω–µ–∫–æ—Ç–æ—Ä—ã—Ö –º–µ—Å—Ç–∞—Ö

4. **–û—Ç—Å—É—Ç—Å—Ç–≤–∏–µ –∫–µ—à–∏—Ä–æ–≤–∞–Ω–∏—è:**
   - –ö–∞–∂–¥—ã–π —Ä–∞–∑ –ø—Ä–∏ –æ—Ç–∫—Ä—ã—Ç–∏–∏ —ç–∫—Ä–∞–Ω–∞ –∑–∞–≥—Ä—É–∂–∞—é—Ç—Å—è –≤—Å–µ –¥–∞–Ω–Ω—ã–µ –∑–∞–Ω–æ–≤–æ
   - –ù–µ—Ç offline-first —Å—Ç—Ä–∞—Ç–µ–≥–∏–∏

5. **–ë–æ–ª—å—à–∏–µ –¥–æ–∫—É–º–µ–Ω—Ç—ã:**
   - `workouts` –º–æ–∂–µ—Ç —Å–æ–¥–µ—Ä–∂–∞—Ç—å –º–∞—Å—Å–∏–≤ –∏–∑ 4-8 –Ω–µ–¥–µ–ª—å —Å –¥–µ—Å—è—Ç–∫–∞–º–∏ —É–ø—Ä–∞–∂–Ω–µ–Ω–∏–π
   - –ü—Ä–∏ –æ–±–Ω–æ–≤–ª–µ–Ω–∏–∏ –æ–¥–Ω–æ–≥–æ —É–ø—Ä–∞–∂–Ω–µ–Ω–∏—è –ø–µ—Ä–µ–∑–∞–ø–∏—Å—ã–≤–∞–µ—Ç—Å—è –≤–µ—Å—å –¥–æ–∫—É–º–µ–Ω—Ç

---

## üìà –ú–∞—Å—à—Ç–∞–±–∏—Ä—É–µ–º–æ—Å—Ç—å

### **–¢–µ–∫—É—â–∏–µ –ª–∏–º–∏—Ç—ã Firestore:**

| –õ–∏–º–∏—Ç | –ó–Ω–∞—á–µ–Ω–∏–µ | –†–∏—Å–∫ –¥–ª—è –ø—Ä–æ–µ–∫—Ç–∞ |
|-------|----------|------------------|
| –ó–∞–ø–∏—Å—å –≤ 1 –¥–æ–∫—É–º–µ–Ω—Ç | 1/—Å–µ–∫ | ‚ö†Ô∏è –°–†–ï–î–ù–ò–ô (–ø—Ä–∏ –º–∞—Å—Å–æ–≤—ã—Ö –æ—Ç–º–µ—Ç–∫–∞—Ö –ø–æ—Å–µ—â–µ–Ω–∏–π) |
| –†–∞–∑–º–µ—Ä –¥–æ–∫—É–º–µ–Ω—Ç–∞ | 1 MB | ‚ö†Ô∏è –°–†–ï–î–ù–ò–ô (–±–æ–ª—å—à–∏–µ —Ç—Ä–µ–Ω–∏—Ä–æ–≤–∫–∏ —Å 8 –Ω–µ–¥–µ–ª—è–º–∏) |
| Subcollection depth | 100 —É—Ä–æ–≤–Ω–µ–π | ‚úÖ –ù–ò–ó–ö–ò–ô |
| Batch write | 500 –æ–ø–µ—Ä–∞—Ü–∏–π | ‚úÖ –ù–ò–ó–ö–ò–ô |

### **–ü–æ—Ç–µ–Ω—Ü–∏–∞–ª—å–Ω—ã–µ –ø—Ä–æ–±–ª–µ–º—ã –ø—Ä–∏ —Ä–æ—Å—Ç–µ:**

1. **–ú–∞—Å—Å–æ–≤—ã–µ –æ—Ç–º–µ—Ç–∫–∏ –ø–æ—Å–µ—â–µ–Ω–∏–π:**
   - –ï—Å–ª–∏ 50+ –∫–ª–∏–µ–Ω—Ç–æ–≤ –æ–¥–Ω–æ–≤—Ä–µ–º–µ–Ω–Ω–æ –æ—Ç–º–µ—á–∞—é—Ç—Å—è ‚Üí –∫–æ–Ω—Ñ–ª–∏–∫—Ç—ã –∑–∞–ø–∏—Å–∏ –≤ `statistics/{gymId}/daily/{date}`
   - **–†–µ—à–µ–Ω–∏–µ:** –ò—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å `increment()` –≤–º–µ—Å—Ç–æ –ø–µ—Ä–µ–∑–∞–ø–∏—Å–∏

2. **–ë–æ–ª—å—à–∏–µ —Ç—Ä–µ–Ω–∏—Ä–æ–≤–∫–∏:**
   - –¢—Ä–µ–Ω–∏—Ä–æ–≤–∫–∞ –Ω–∞ 8 –Ω–µ–¥–µ–ª—å √ó 7 –¥–Ω–µ–π √ó 10 —É–ø—Ä–∞–∂–Ω–µ–Ω–∏–π = 560 —É–ø—Ä–∞–∂–Ω–µ–Ω–∏–π –≤ –æ–¥–Ω–æ–º –¥–æ–∫—É–º–µ–Ω—Ç–µ
   - **–†–µ—à–µ–Ω–∏–µ:** –†–∞–∑–±–∏—Ç—å –Ω–∞ –æ—Ç–¥–µ–ª—å–Ω—ã–µ –¥–æ–∫—É–º–µ–Ω—Ç—ã –ø–æ –Ω–µ–¥–µ–ª—è–º

3. **–ß–∞—Ç—ã:**
   - –ü—Ä–∏ –±–æ–ª—å—à–æ–º –∫–æ–ª–∏—á–µ—Å—Ç–≤–µ —Å–æ–æ–±—â–µ–Ω–∏–π (1000+) –∑–∞–≥—Ä—É–∑–∫–∞ –±—É–¥–µ—Ç –º–µ–¥–ª–µ–Ω–Ω–æ–π
   - **–†–µ—à–µ–Ω–∏–µ:** –ü–∞–≥–∏–Ω–∞—Ü–∏—è —É–∂–µ —Ä–µ–∞–ª–∏–∑–æ–≤–∞–Ω–∞ ‚úÖ

---

## üí∞ –û—Ü–µ–Ω–∫–∞ —Å—Ç–æ–∏–º–æ—Å—Ç–∏ Firebase (—Ç–µ–∫—É—â–∞—è –∞—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä–∞)

### **–ü—Ä–∏–º–µ—Ä–Ω—ã–π —Ä–∞—Å—á–µ—Ç –Ω–∞ 100 –∫–ª–∏–µ–Ω—Ç–æ–≤:**

**–ï–∂–µ–¥–Ω–µ–≤–Ω—ã–µ –æ–ø–µ—Ä–∞—Ü–∏–∏:**
- –û—Ç–º–µ—Ç–∫–∞ –ø–æ—Å–µ—â–µ–Ω–∏–π: 50 –∫–ª–∏–µ–Ω—Ç–æ–≤ √ó 2 –∑–∞–ø–∏—Å–∏ (attendance + profile) = **100 writes**
- –°—Ç–∞—Ç–∏—Å—Ç–∏–∫–∞: 1 –∑–∞–ª √ó 1 –∑–∞–ø–∏—Å—å = **1 write**
- –ó–∞–≥—Ä—É–∑–∫–∞ –∫–∞–ª–µ–Ω–¥–∞—Ä—è: 100 –∫–ª–∏–µ–Ω—Ç–æ–≤ √ó 1 read = **100 reads**
- –ó–∞–≥—Ä—É–∑–∫–∞ —Ç—Ä–µ–Ω–∏—Ä–æ–≤–æ–∫: 50 –∫–ª–∏–µ–Ω—Ç–æ–≤ √ó 2 reads (assignedWorkouts + workouts) = **100 reads**

**–ò—Ç–æ–≥–æ –≤ –¥–µ–Ω—å:** ~200 writes + ~200 reads  
**–ò—Ç–æ–≥–æ –≤ –º–µ—Å—è—Ü:** ~6,000 writes + ~6,000 reads

**–°—Ç–æ–∏–º–æ—Å—Ç—å (–±–µ—Å–ø–ª–∞—Ç–Ω—ã–π –ø–ª–∞–Ω):**
- Reads: 50,000/–¥–µ–Ω—å (‚úÖ –¥–æ—Å—Ç–∞—Ç–æ—á–Ω–æ)
- Writes: 20,000/–¥–µ–Ω—å (‚úÖ –¥–æ—Å—Ç–∞—Ç–æ—á–Ω–æ)

**–ü—Ä–∏ —Ä–æ—Å—Ç–µ –¥–æ 500 –∫–ª–∏–µ–Ω—Ç–æ–≤:**
- ~30,000 writes/–º–µ—Å—è—Ü + ~30,000 reads/–º–µ—Å—è—Ü
- –°—Ç–æ–∏–º–æ—Å—Ç—å: ~$0.50/–º–µ—Å—è—Ü (–≤—Å–µ –µ—â–µ –≤ –±–µ—Å–ø–ª–∞—Ç–Ω–æ–º –ø–ª–∞–Ω–µ)

---

## üéØ –í—ã–≤–æ–¥—ã –≠—Ç–∞–ø–∞ 1

### **–ê—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä–∞:**
- ‚úÖ –°—Ç—Ä—É–∫—Ç—É—Ä–∞ –∫–æ–ª–ª–µ–∫—Ü–∏–π –ª–æ–≥–∏—á–Ω–∞—è –∏ –ø–æ–Ω—è—Ç–Ω–∞—è
- ‚ö†Ô∏è –ò–∑–±—ã—Ç–æ—á–Ω–æ–µ –¥—É–±–ª–∏—Ä–æ–≤–∞–Ω–∏–µ –¥–∞–Ω–Ω—ã—Ö (weekData, weights)
- ‚ö†Ô∏è –ú–Ω–æ–≥–æ JOIN-–∑–∞–ø—Ä–æ—Å–æ–≤ –Ω–∞ –∫–ª–∏–µ–Ω—Ç–µ

### **–ú–∞—Å—à—Ç–∞–±–∏—Ä—É–µ–º–æ—Å—Ç—å:**
- ‚úÖ –¢–µ–∫—É—â–∞—è –Ω–∞–≥—Ä—É–∑–∫–∞ –Ω–µ –∫—Ä–∏—Ç–∏—á–Ω–∞
- ‚ö†Ô∏è –ü—Ä–∏ —Ä–æ—Å—Ç–µ –¥–æ 500+ –∫–ª–∏–µ–Ω—Ç–æ–≤ –≤–æ–∑–º–æ–∂–Ω—ã –ø—Ä–æ–±–ª–µ–º—ã —Å `statistics` –∏ –±–æ–ª—å—à–∏–º–∏ `workouts`

### **–°—Ç–æ–∏–º–æ—Å—Ç—å:**
- ‚úÖ –£–∫–ª–∞–¥—ã–≤–∞–µ—Ç—Å—è –≤ –±–µ—Å–ø–ª–∞—Ç–Ω—ã–π –ø–ª–∞–Ω Firebase
- ‚úÖ –î–∞–∂–µ –ø—Ä–∏ —Ä–æ—Å—Ç–µ –¥–æ 500 –∫–ª–∏–µ–Ω—Ç–æ–≤ —Å—Ç–æ–∏–º–æ—Å—Ç—å –º–∏–Ω–∏–º–∞–ª—å–Ω–∞

---

## üìã –°–ª–µ–¥—É—é—â–∏–µ —ç—Ç–∞–ø—ã

**–≠—Ç–∞–ø 2:** Audit Firebase Data Modeling & Architecture  
- –ê–Ω–∞–ª–∏–∑ –¥–µ–Ω–æ—Ä–º–∞–ª–∏–∑–∞—Ü–∏–∏
- –û–ø—Ç–∏–º–∏–∑–∞—Ü–∏—è —Å—Ç—Ä—É–∫—Ç—É—Ä—ã –∫–æ–ª–ª–µ–∫—Ü–∏–π
- –ü—Ä–µ–¥–ª–æ–∂–µ–Ω–∏—è –ø–æ —É–ª—É—á—à–µ–Ω–∏—é

**–≠—Ç–∞–ø 3:** Audit Network & Subscriptions  
- –ü—Ä–æ–≤–µ—Ä–∫–∞ `onSnapshot` –ø–æ–¥–ø–∏—Å–æ–∫
- –ê–Ω–∞–ª–∏–∑ cleanup —Ñ—É–Ω–∫—Ü–∏–π
- –ü–æ–∏—Å–∫ —É—Ç–µ—á–µ–∫ –ø–∞–º—è—Ç–∏

**–≠—Ç–∞–ø 4:** Audit Performance & Render Cycles  
- –ê–Ω–∞–ª–∏–∑ `useEffect` –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–µ–π
- –ü—Ä–æ–≤–µ—Ä–∫–∞ –º–µ–º–æ–∏–∑–∞—Ü–∏–∏
- –ü–æ–∏—Å–∫ –ª–∏—à–Ω–∏—Ö —Ä–µ-—Ä–µ–Ω–¥–µ—Ä–æ–≤

---

**–ì–æ—Ç–æ–≤ –∫ —Å–ª–µ–¥—É—é—â–µ–º—É —ç—Ç–∞–ø—É? –ñ–¥—É —Ç–≤–æ–µ–≥–æ –ø–æ–¥—Ç–≤–µ—Ä–∂–¥–µ–Ω–∏—è! üöÄ**
